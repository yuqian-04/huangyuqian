import streamlit as st
import pandas as pd
import numpy as np

# å®šä¹‰æ•°æ®ï¼Œä»¥ä¾¿åˆ›å»ºæ•°æ®åº“
data = {
    "æœˆä»½": ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
    "é¤å…": ["èƒ–å“¥ä¿©", "è™¾å¤§å”", "èŒ¶ç‚®ç«é”…", "é‡åº†å°é¢", "ç½è€å¤§", "èƒ–å“¥ä¿©", "è™¾å¤§å”", "èŒ¶ç‚®ç«é”…", "é‡åº†å°é¢", "ç½è€å¤§", "èƒ–å“¥ä¿©", "è™¾å¤§å”"],
    "ç±»å‹": ["ä¸­é¤", "ä¸­é¤", "ç«é”…", "é¢é£Ÿ", "ç²‰ç±»", "ä¸­é¤", "ä¸­é¤", "ç«é”…", "é¢é£Ÿ", "ç²‰ç±»", "ä¸­é¤", "ä¸­é¤"],
    "è¯„åˆ†": [4.7, 4.6, 4.3, 4.5, 4.8, 4.7, 4.6, 4.3, 4.5, 4.8, 4.7, 4.6],
    "äººå‡æ¶ˆè´¹ï¼ˆå…ƒï¼‰": [32, 30, 42, 12, 20, 32, 30, 42, 12, 20, 32, 30],
}

# æ ¹æ®ä¸Šé¢åˆ›å»ºçš„restaurants_dataï¼Œåˆ›å»ºæ•°æ®æ¡†
df = pd.DataFrame(data)

# è®¾ç½®æœˆä»½ä¸ºç´¢å¼•
df.set_index('æœˆä»½', inplace=True)

st.markdown('# ğŸ¦å—å®ç¾é£Ÿæ¢ç´¢')
st.markdown('#### ä¸€èµ·æ¥å—å®æ¢ç´¢ç¾é£Ÿå§ï¼ğŸ§­ ')

st.markdown('## ğŸ“å—å®ç¾é£Ÿåœ°å›¾')
# ç¾é£Ÿåœ°å›¾
map_data={
    "latitude": [22.815767, 22.814051, 22.832171, 22.873231, 22.813471],
    "longitude": [108.321003, 108.321394, 108.292669, 108.266497, 108.318393]
    }
mp_df=pd.DataFrame(map_data)
st.map(mp_df)

st.markdown('## ğŸ’¯é¤å…è¯„åˆ†')
# é¤å…è¯„åˆ†æ¡å½¢å›¾
df_reset = df.reset_index()
rating_data = df_reset[['é¤å…', 'è¯„åˆ†']]
st.bar_chart(rating_data.set_index('é¤å…'))

st.markdown('## ğŸ’°ä¸åŒç±»å‹é¤å…ä»·æ ¼')
# ä¸åŒç±»å‹é¤å…ä»·æ ¼æŠ˜çº¿å›¾
type_price_data = df_reset[['ç±»å‹', 'äººå‡æ¶ˆè´¹ï¼ˆå…ƒï¼‰']].groupby('ç±»å‹').mean()
st.line_chart(type_price_data)

st.markdown('## â²ï¸ç”¨é¤é«˜å³°æ—¶æ®µ')
# ç”¨é¤é«˜å³°æ—¶æ®µé¢ç§¯å›¾ - ä»æ—©ä¸Š8ç‚¹åˆ°æ™šä¸Š12ç‚¹
# ç”Ÿæˆæ—¶é—´ç‚¹ï¼šä»8:00åˆ°24:00ï¼Œæ¯éš”1å°æ—¶
time_points = [f"{hour:02d}:00" for hour in range(8, 25)]

# æ¯ä¸ªé¤å…åœ¨ä¸åŒæ—¶é—´ç‚¹çš„å®¢æµé‡
peak_hours_data = {
    "æ—¶é—´": time_points,
    "èƒ–å“¥ä¿©": [40, 50, 60, 70, 80, 120, 180, 220, 180, 150, 130, 110, 90, 70, 50, 40, 30],
    "è™¾å¤§å”": [30, 40, 50, 60, 70, 100, 160, 200, 160, 130, 110, 90, 70, 60, 40, 30, 20],
    "èŒ¶ç‚®ç«é”…": [20, 25, 30, 35, 40, 60, 100, 140, 120, 100, 80, 70, 60, 50, 40, 30, 20],
    "é‡åº†å°é¢": [50, 60, 70, 80, 90, 140, 200, 250, 200, 170, 150, 130, 110, 90, 70, 60, 50],
    "ç½è€å¤§": [25, 30, 35, 40, 45, 70, 120, 160, 140, 120, 100, 80, 70, 60, 50, 40, 30]
}

peak_hours_df = pd.DataFrame(peak_hours_data)
st.area_chart(peak_hours_df.set_index('æ—¶é—´'))
